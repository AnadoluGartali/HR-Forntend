{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useAuth = (timeout = 1200000) => {\n  _s();\n  // 20 minutes in milliseconds\n  const [auth, setAuth] = useState(() => {\n    const storedAuth = localStorage.getItem('auth');\n    return storedAuth ? JSON.parse(storedAuth) : {\n      isAuthenticated: false,\n      userRole: null\n    };\n  });\n  useEffect(() => {\n    let timer;\n    if (auth.isAuthenticated) {\n      localStorage.setItem('auth', JSON.stringify(auth));\n      timer = setTimeout(() => {\n        setAuth({\n          isAuthenticated: false,\n          userRole: null\n        });\n        localStorage.removeItem('auth');\n      }, timeout);\n    } else {\n      localStorage.removeItem('auth');\n    }\n    return () => clearTimeout(timer);\n  }, [auth, timeout]);\n  const login = userRole => {\n    setAuth({\n      isAuthenticated: true,\n      userRole\n    });\n  };\n  const logout = () => {\n    setAuth({\n      isAuthenticated: false,\n      userRole: null\n    });\n  };\n  return {\n    auth,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"gtu5LMKhHzaoABxnCXRiTf7Ec8s=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","useAuth","timeout","_s","auth","setAuth","storedAuth","localStorage","getItem","JSON","parse","isAuthenticated","userRole","timer","setItem","stringify","setTimeout","removeItem","clearTimeout","login","logout"],"sources":["C:/Users/Ebube/OneDrive/Masaüstü/HRFront-main/src/hooks/useAuth.js"],"sourcesContent":["import {useState, useEffect} from 'react';\n\nconst useAuth = (timeout = 1200000) => { // 20 minutes in milliseconds\n    const [auth, setAuth] = useState(() => {\n        const storedAuth = localStorage.getItem('auth');\n        return storedAuth ? JSON.parse(storedAuth) : {isAuthenticated: false, userRole: null};\n    });\n\n    useEffect(() => {\n        let timer;\n        if (auth.isAuthenticated) {\n            localStorage.setItem('auth', JSON.stringify(auth));\n            timer = setTimeout(() => {\n                setAuth({isAuthenticated: false, userRole: null});\n                localStorage.removeItem('auth');\n            }, timeout);\n        } else {\n            localStorage.removeItem('auth');\n        }\n\n        return () => clearTimeout(timer);\n    }, [auth, timeout]);\n\n    const login = (userRole) => {\n        setAuth({isAuthenticated: true, userRole});\n    };\n\n    const logout = () => {\n        setAuth({isAuthenticated: false, userRole: null});\n    };\n\n    return {auth, login, logout};\n};\n\nexport default useAuth;\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAEzC,MAAMC,OAAO,GAAGA,CAACC,OAAO,GAAG,OAAO,KAAK;EAAAC,EAAA;EAAE;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,MAAM;IACnC,MAAMO,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG;MAACK,eAAe,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAI,CAAC;EACzF,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACZ,IAAIa,KAAK;IACT,IAAIT,IAAI,CAACO,eAAe,EAAE;MACtBJ,YAAY,CAACO,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACM,SAAS,CAACX,IAAI,CAAC,CAAC;MAClDS,KAAK,GAAGG,UAAU,CAAC,MAAM;QACrBX,OAAO,CAAC;UAACM,eAAe,EAAE,KAAK;UAAEC,QAAQ,EAAE;QAAI,CAAC,CAAC;QACjDL,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;MACnC,CAAC,EAAEf,OAAO,CAAC;IACf,CAAC,MAAM;MACHK,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;IACnC;IAEA,OAAO,MAAMC,YAAY,CAACL,KAAK,CAAC;EACpC,CAAC,EAAE,CAACT,IAAI,EAAEF,OAAO,CAAC,CAAC;EAEnB,MAAMiB,KAAK,GAAIP,QAAQ,IAAK;IACxBP,OAAO,CAAC;MAACM,eAAe,EAAE,IAAI;MAAEC;IAAQ,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMQ,MAAM,GAAGA,CAAA,KAAM;IACjBf,OAAO,CAAC;MAACM,eAAe,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAI,CAAC,CAAC;EACrD,CAAC;EAED,OAAO;IAACR,IAAI;IAAEe,KAAK;IAAEC;EAAM,CAAC;AAChC,CAAC;AAACjB,EAAA,CA9BIF,OAAO;AAgCb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}